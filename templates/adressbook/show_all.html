{% extends "base.html" %}

{% block content %}
    <h1>Adressbook</h1>

    {# Common js settings for this view #}
    <script type="text/javascript">
        var url_load_grid = '{% url adressbook_show_all %}';
    </script>

    {# TODO: external css #}
    <style>
        .listNav { margin:0 0 10px; }
        .ln-letters { overflow:hidden; }
        .ln-letters a { font-size:0.9em; display:block; float:left; padding:2px 6px; border:1px solid silver; border-right:none; text-decoration:none; }
        .ln-letters a.ln-last { border-right:1px solid silver; }
        .ln-letters a:hover,
        .ln-letters a.ln-selected { background-color:#eaeaea; }
        .ln-letters a.ln-disabled { color:#ccc; }
        .ln-letter-count { text-align:center; font-size:0.8em; line-height:1; margin-bottom:3px; color:#336699; }
    </style>

    <script type="text/javascript">

        function updateCheckboxes(checkbox) {
            alert(checkbox.id + ' -> ' + checkbox.checked  );
        }

        function updateAllCheckboxes(checkbox, css_class) {
            $(css_class).attr('checked', checkbox.checked);
            //TODO update buttons state: disable not .mass_action
        }

    </script>

    {# Success message #}
    {% include "common/message_box.html" %}

    {# Toolbar #}
    <div class="well">
        <button class="btn primary" onclick="javascript:showCreateDialog('#create_form');">Add contact</button>&nbsp;
    </div>
    <script>
        function showCreateDialog(id) {
            $('.alert-message').hide();
            $('#modal_body').load('{% url adressbook_add %}');
            $(id).show();
        }
    </script>

    {# Records table #}
    <div id="records_list">
        {% include grid_template %}
    </div>

    {# Create dialogl #}
    {% include "common/create_window.html" with title="Add new contact" %}

 {% endblock %}

